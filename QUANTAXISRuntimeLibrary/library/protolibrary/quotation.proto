syntax = "proto3";

package QUANTAXIS_Runtime_Quotation;

// 行情服务  无状态的

service QR_QuotationService {
    //low-level api
    rpc QR_quotation_p2p (quotation_req) returns (quotation_rep);
    rpc QA_quotation_p2s (quotation_req) returns (stream quotation_rep);
    rpc QA_quotation_s2s (stream quotation_req) returns (stream quotation_rep);
    //rpc QA_fetch_s2p (stream quotation_req) returns (quotation_rep);  // s2p模式没用处
  }
  


message quotation_req{
  string exchange=1;// sz/sh/etf/index
  string type =2; //min/day
  string code =3; //code
  string ip =4; //tdx ip
  string time=5;
  string date=6;
  string message=7;
}

message quotation_rep{
 string code=1; 
 float open=2;
 float high=3;
 float low=4;
 float close=5;
 float volume=6;
 string date =7;
 float amount=8;
 string date_stamp=9;
 string datetime =10;
 string time_stamp =11;
 string message = 12;
 string exchange=13;
 string type=14;
}
